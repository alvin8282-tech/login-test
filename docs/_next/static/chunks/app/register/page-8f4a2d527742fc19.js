(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{2056:(e,t,s)=>{"use strict";s.d(t,{$c:()=>l,Gs:()=>o,Kk:()=>n});let r="hyundai_users",l=e=>{let t=a();t.push(e),localStorage.setItem(r,JSON.stringify(t))},a=()=>{let e=localStorage.getItem(r);return e?JSON.parse(e):[]},o=e=>a().find(t=>t.email===e)||null,n=(e,t)=>{let s=a(),l=s.findIndex(t=>t.email===e);-1!==l&&(s[l].otpSecret=t,localStorage.setItem(r,JSON.stringify(s)))}},3741:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(5155);function l(e){let{variant:t="primary",size:s="md",isLoading:l=!1,children:a,className:o="",disabled:n,...i}=e;return(0,r.jsx)("button",{className:"".concat("font-medium rounded-lg transition-all duration-200 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-gradient-to-r from-[#003876] to-[#0066CC] text-white hover:from-[#002952] hover:to-[#0052a3] focus:ring-[#0066CC] shadow-md hover:shadow-lg",secondary:"bg-slate-100 text-slate-700 hover:bg-slate-200 focus:ring-slate-500",outline:"border-2 border-[#0066CC] text-[#0066CC] hover:bg-[#0066CC] hover:text-white focus:ring-[#0066CC]"}[t]," ").concat({sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-base",lg:"px-6 py-4 text-lg"}[s]," ").concat(n||l?"opacity-50 cursor-not-allowed":""," ").concat(o),disabled:n||l,...i,children:l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"처리 중..."]}):a})}s(2115)},3915:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(5155);function l(e){let{label:t,error:s,className:l="",...a}=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:t}),(0,r.jsx)("input",{className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-[#0066CC] transition-colors placeholder-slate-400 ".concat(s?"border-red-500 focus:ring-red-500 focus:border-red-500":""," ").concat(l),...a}),s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s})]})}s(2115)},4650:(e,t,s)=>{Promise.resolve().then(s.bind(s,7582))},7582:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(5155),l=s(2115),a=s(6874),o=s.n(a),n=s(5695),i=s(1898),c=s(3915);let d=e=>{let t=[],s=0;return e.length<8?t.push("비밀번호는 최소 8자 이상이어야 합니다."):e.length>=12?s+=2:s+=1,/[A-Z]/.test(e)?s+=1:t.push("대문자를 포함해야 합니다."),/[a-z]/.test(e)?s+=1:t.push("소문자를 포함해야 합니다."),/\d/.test(e)?s+=1:t.push("숫자를 포함해야 합니다."),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e)?s+=1:t.push("특수문자를 포함해야 합니다."),/(.)\1{2,}/.test(e)&&(t.push("동일한 문자를 3번 이상 연속으로 사용할 수 없습니다."),s-=1),{isValid:0===t.length&&s>=4,score:Math.max(0,s),feedback:t}};function m(e){var t;let{label:s,error:a,showStrength:o=!1,className:n="",onChange:i,...c}=e,[m,u]=(0,l.useState)(!1),[x,h]=(0,l.useState)({score:0,feedback:[]}),p=(t=x.score)>=5?{text:"매우 강함",color:"text-green-600"}:t>=4?{text:"강함",color:"text-blue-600"}:t>=3?{text:"보통",color:"text-yellow-600"}:{text:"약함",color:"text-red-600"};return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:s}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:m?"text":"password",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-[#0066CC] transition-colors placeholder-slate-400 ".concat(a?"border-red-500 focus:ring-red-500 focus:border-red-500":""," ").concat(n),onChange:e=>{o&&h(d(e.target.value)),i&&i(e)},...c}),(0,r.jsx)("button",{type:"button",onClick:()=>u(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:m?(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L6.588 6.588m4.242 4.242L14.12 17.12m-4.242-4.242L2.588 5.588"})}):(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),o&&c.value&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,r.jsx)("span",{className:"text-xs text-slate-600",children:"비밀번호 강도"}),(0,r.jsx)("span",{className:"text-xs font-medium ".concat(p.color),children:p.text})]}),(0,r.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-1.5",children:(0,r.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 ".concat(x.score>=5?"bg-green-500":x.score>=4?"bg-blue-500":x.score>=3?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.max(10,x.score/6*100),"%")}})}),x.feedback.length>0&&(0,r.jsx)("div",{className:"mt-2 text-xs text-red-600",children:(0,r.jsx)("ul",{className:"list-disc list-inside space-y-1",children:x.feedback.map((e,t)=>(0,r.jsx)("li",{children:e},t))})})]}),a&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:a})]})}var u=s(3741),x=s(2056),h=s(9400);function p(){let e=(0,n.useRouter)(),[t,s]=(0,l.useState)({email:"",password:"",confirmPassword:"",fullName:"",department:"",employeeId:""}),[a,p]=(0,l.useState)({}),[f,b]=(0,l.useState)(!1),[g,j]=(0,l.useState)(!1),w=e=>{let{name:t,value:r}=e.target;s(e=>({...e,[t]:r})),a[t]&&p(e=>({...e,[t]:""}))},N=async e=>{if(e.preventDefault(),(()=>{let e={};t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)?(0,x.Gs)(t.email)&&(e.email="이미 등록된 이메일입니다."):e.email="올바른 이메일 형식을 입력해주세요.":e.email="이메일을 입력해주세요.";let s=d(t.password);return t.password.trim()?s.isValid||(e.password="비밀번호가 보안 요구사항을 충족하지 않습니다."):e.password="비밀번호를 입력해주세요.",t.confirmPassword.trim()?t.password!==t.confirmPassword&&(e.confirmPassword="비밀번호가 일치하지 않습니다."):e.confirmPassword="비밀번호 확인을 입력해주세요.",t.fullName.trim()||(e.fullName="성명을 입력해주세요."),t.department.trim()||(e.department="부서를 입력해주세요."),t.employeeId.trim()||(e.employeeId="사번을 입력해주세요."),p(e),0===Object.keys(e).length})()){b(!0);try{await new Promise(e=>setTimeout(e,2e3));let e=(0,h.lz)(),s={email:t.email,password:t.password,fullName:t.fullName,department:t.department,employeeId:t.employeeId,otpSecret:e,createdAt:new Date().toISOString()};(0,x.$c)(s),console.log("회원가입 성공:",{email:t.email,fullName:t.fullName,department:t.department,employeeId:t.employeeId}),j(!0)}catch(e){console.error("회원가입 실패:",e),p({submit:"회원가입 중 오류가 발생했습니다. 다시 시도해주세요."})}finally{b(!1)}}};return g?(0,r.jsx)(i.b8,{title:"회원가입 완료",subtitle:"성공적으로 계정이 생성되었습니다",children:(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,r.jsx)("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-[#003876] mb-4",children:"환영합니다!"}),(0,r.jsxs)("p",{className:"text-slate-600 mb-6",children:[(0,r.jsx)("strong",{children:t.fullName}),"님의",(0,r.jsx)("br",{}),"현대오토에버 계정이 성공적으로 생성되었습니다."]}),(0,r.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 mb-6",children:[(0,r.jsx)("h3",{className:"font-medium text-slate-700 mb-2",children:"계정 정보"}),(0,r.jsxs)("div",{className:"text-sm text-slate-600 space-y-1",children:[(0,r.jsxs)("p",{children:["이메일: ",t.email]}),(0,r.jsxs)("p",{children:["부서: ",t.department]}),(0,r.jsxs)("p",{children:["사번: ",t.employeeId]})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(u.A,{onClick:()=>e.push("/setup-otp?email=".concat(encodeURIComponent(t.email))),variant:"primary",className:"w-full",children:"Google OTP 설정하기"}),(0,r.jsx)(u.A,{onClick:()=>e.push("/login"),variant:"outline",className:"w-full",children:"나중에 설정 (로그인하기)"}),(0,r.jsx)("button",{onClick:()=>{j(!1),s({email:"",password:"",confirmPassword:"",fullName:"",department:"",employeeId:""}),p({})},className:"block w-full text-slate-500 hover:text-[#0066CC] text-sm transition-colors",children:"다른 계정 만들기"})]})]})}):(0,r.jsx)(i.b8,{title:"회원가입",subtitle:"현대오토에버 계정을 생성하세요",children:(0,r.jsxs)("form",{onSubmit:N,className:"space-y-1",children:[(0,r.jsx)(c.A,{label:"이메일",name:"email",type:"email",placeholder:"이메일을 입력하세요",value:t.email,onChange:w,error:a.email,autoComplete:"email"}),(0,r.jsx)(c.A,{label:"성명",name:"fullName",type:"text",placeholder:"성명을 입력하세요",value:t.fullName,onChange:w,error:a.fullName,autoComplete:"name"}),(0,r.jsx)(c.A,{label:"부서",name:"department",type:"text",placeholder:"부서를 입력하세요",value:t.department,onChange:w,error:a.department,autoComplete:"organization"}),(0,r.jsx)(c.A,{label:"사번",name:"employeeId",type:"text",placeholder:"사번을 입력하세요",value:t.employeeId,onChange:w,error:a.employeeId}),(0,r.jsx)(m,{label:"비밀번호",name:"password",placeholder:"비밀번호를 입력하세요",value:t.password,onChange:w,error:a.password,autoComplete:"new-password",showStrength:!0}),(0,r.jsx)(m,{label:"비밀번호 확인",name:"confirmPassword",placeholder:"비밀번호를 다시 입력하세요",value:t.confirmPassword,onChange:w,error:a.confirmPassword,autoComplete:"new-password"}),a.submit&&(0,r.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-red-600",children:a.submit})}),(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsx)(u.A,{type:"submit",variant:"primary",size:"lg",className:"w-full",isLoading:f,children:"회원가입"})}),(0,r.jsx)("div",{className:"text-center pt-4",children:(0,r.jsxs)("p",{className:"text-slate-600 text-sm",children:["이미 계정이 있으신가요?"," ",(0,r.jsx)(o(),{href:"/login",className:"text-[#0066CC] hover:text-[#003876] font-medium transition-colors",children:"로그인"})]})}),(0,r.jsx)("div",{className:"text-center pt-2",children:(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"회원가입 시 개인정보 처리방침과 이용약관에 동의하는 것으로 간주됩니다."})})]})})}},9400:(e,t,s)=>{"use strict";s.d(t,{Ck:()=>n,KV:()=>i,Kj:()=>o,lz:()=>a});var r=s(8336),l=s(6862);let a=()=>r.authenticator.generateSecret(),o=(e,t)=>r.authenticator.keyuri(e,"현대오토에버",t),n=async e=>{try{return await l.toDataURL(e)}catch(e){throw console.error("QR 코드 생성 실패:",e),e}},i=(e,t)=>{try{return r.authenticator.verify({token:e,secret:t})}catch(e){return console.error("OTP 검증 실패:",e),!1}}}},e=>{e.O(0,[268,874,486,898,441,964,358],()=>e(e.s=4650)),_N_E=e.O()}]);
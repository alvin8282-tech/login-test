(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{3741:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(5155);function l(e){let{variant:s="primary",size:t="md",isLoading:l=!1,children:r,className:n="",disabled:i,...o}=e;return(0,a.jsx)("button",{className:"".concat("font-medium rounded-lg transition-all duration-200 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-gradient-to-r from-[#003876] to-[#0066CC] text-white hover:from-[#002952] hover:to-[#0052a3] focus:ring-[#0066CC] shadow-md hover:shadow-lg",secondary:"bg-slate-100 text-slate-700 hover:bg-slate-200 focus:ring-slate-500",outline:"border-2 border-[#0066CC] text-[#0066CC] hover:bg-[#0066CC] hover:text-white focus:ring-[#0066CC]"}[s]," ").concat({sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-base",lg:"px-6 py-4 text-lg"}[t]," ").concat(i||l?"opacity-50 cursor-not-allowed":""," ").concat(n),disabled:i||l,...o,children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"처리 중..."]}):r})}t(2115)},5295:(e,s,t)=>{Promise.resolve().then(t.bind(t,6867))},6867:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var a=t(5155),l=t(2115),r=t(858);let n="hyundai_devices",i="hyundai_device_history",o=[{code:"USA",name:"미국",regions:["뉴욕","로스앤젤레스","시카고","휴스턴"]},{code:"JAPAN",name:"일본",regions:["도쿄","오사카","나고야","요코하마"]},{code:"CHINA",name:"중국",regions:["베이징","상하이","광저우","선전"]},{code:"GERMANY",name:"독일",regions:["베를린","뮌헨","함부르크","쾰른"]},{code:"UK",name:"영국",regions:["런던","맨체스터","버밍엄","리버풀"]},{code:"FRANCE",name:"프랑스",regions:["파리","마르세유","리옹","툴루즈"]},{code:"BRAZIL",name:"브라질",regions:["상파울루","리우데자네이루","브라질리아","살바도르"]},{code:"INDIA",name:"인도",regions:["뭄바이","델리","방갈로르","첸나이"]}];function c(){let e=Math.random()>.2;return{cpu:e?Math.floor(70*Math.random())+10:Math.floor(30*Math.random())+70,memory:e?Math.floor(60*Math.random())+20:Math.floor(20*Math.random())+80,disk:e?Math.floor(50*Math.random())+20:Math.floor(20*Math.random())+80,network:{inbound:Math.floor(1e3*Math.random())+100,outbound:Math.floor(800*Math.random())+50},uptime:24*Math.floor(30*Math.random())*3600,temperature:Math.floor(20*Math.random())+40}}function d(){let e=localStorage.getItem(n);return e?JSON.parse(e):[]}function m(){let e=d(),s=e.filter(e=>"online"===e.status),t=s.filter(e=>e.performance.cpu>e.alarmSettings.cpuThreshold||e.performance.memory>e.alarmSettings.memoryThreshold||e.performance.disk>e.alarmSettings.diskThreshold),a=s.length>0?{cpu:Math.round(s.reduce((e,s)=>e+s.performance.cpu,0)/s.length),memory:Math.round(s.reduce((e,s)=>e+s.performance.memory,0)/s.length),disk:Math.round(s.reduce((e,s)=>e+s.performance.disk,0)/s.length)}:{cpu:0,memory:0,disk:0};return{totalDevices:e.length,onlineDevices:s.length,offlineDevices:e.length-s.length,criticalDevices:t.length,averagePerformance:a}}function x(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80;return e>=s?"text-red-600 bg-red-100":e>=.7*s?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100"}function h(e){return"online"===e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}function u(e){if(0===e)return"0분";let s=Math.floor(e/86400),t=Math.floor(e%86400/3600),a=Math.floor(e%3600/60);return s>0?"".concat(s,"일 ").concat(t,"시간"):t>0?"".concat(t,"시간 ").concat(a,"분"):"".concat(a,"분")}function p(e){let s=new Date,t=new Date(e),a=Math.floor((s.getTime()-t.getTime())/1e3);return a<60?"방금 전":a<3600?"".concat(Math.floor(a/60),"분 전"):a<86400?"".concat(Math.floor(a/3600),"시간 전"):"".concat(Math.floor(a/86400),"일 전")}function j(){return o.map(e=>e.name)}function f(e){let{devices:s,onDeviceClick:t,onEditDevice:r,onDeleteDevice:n}=e,[i,o]=(0,l.useState)("name"),[c,d]=(0,l.useState)("asc"),[m,j]=(0,l.useState)(1),f=e=>{i===e?d("asc"===c?"desc":"asc"):(o(e),d("asc"))},g=[...s].sort((e,s)=>{let t=e[i],a=s[i];if("string"==typeof t&&"string"==typeof a){let e=t.localeCompare(a);return"asc"===c?e:-e}return"number"==typeof t&&"number"==typeof a?"asc"===c?t-a:a-t:0}),v=Math.ceil(g.length/10),b=(m-1)*10,N=b+10,w=g.slice(b,N),y=e=>i!==e?(0,a.jsx)("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):"asc"===c?(0,a.jsx)("svg",{className:"w-4 h-4 text-[#0066CC]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}):(0,a.jsx)("svg",{className:"w-4 h-4 text-[#0066CC]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})}),k=function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80,l=x(e,t);return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-12 bg-slate-200 rounded-full h-2 relative",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(e>=t?"bg-red-500":e>=.7*t?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(e,100),"%")}})}),(0,a.jsxs)("span",{className:"text-xs font-medium px-1.5 py-0.5 rounded ".concat(l),children:[e,"%"]})]})};return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[(0,a.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"장비 목록"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:["총 ",s.length,"개의 장비"]})]})})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-slate-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider cursor-pointer hover:bg-slate-100",onClick:()=>f("name"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"장비명"}),y("name")]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider cursor-pointer hover:bg-slate-100",onClick:()=>f("status"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"상태"}),y("status")]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider cursor-pointer hover:bg-slate-100",onClick:()=>f("location"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"위치"}),y("location")]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider cursor-pointer hover:bg-slate-100",onClick:()=>f("ipAddress"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"IP주소"}),y("ipAddress")]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"성능 지표"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider cursor-pointer hover:bg-slate-100",onClick:()=>f("lastSeen"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"마지막 접속"}),y("lastSeen")]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"작업"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:w.map(e=>{let s;return(0,a.jsxs)("tr",{className:"hover:bg-slate-50 cursor-pointer transition-colors",onClick:()=>t(e),children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-[#003876] to-[#0066CC] rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-medium text-xs",children:"\uD83D\uDDA5️"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-slate-500 flex items-center space-x-2",children:[(0,a.jsx)("span",{children:e.networkType}),(0,a.jsx)("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),(0,a.jsx)("span",{children:e.country})]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(s=e.status,(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("online"===s?"bg-green-500 animate-pulse":"bg-red-500")}),(0,a.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded-full ".concat(h(s)),children:"online"===s?"온라인":"오프라인"})]}))}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:e.location}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-slate-900",children:e.ipAddress}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-500 w-8",children:"CPU"}),k(e.performance.cpu,"CPU",e.alarmSettings.cpuThreshold)]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-500 w-8",children:"MEM"}),k(e.performance.memory,"Memory",e.alarmSettings.memoryThreshold)]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-500 w-8",children:"DISK"}),k(e.performance.disk,"Disk",e.alarmSettings.diskThreshold)]})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm text-slate-900",children:p(e.lastSeen)}),"online"===e.status&&(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:["업타임: ",u(e.performance.uptime)]})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),t(e)},className:"text-[#0066CC] hover:text-[#003876] transition-colors",title:"상세 보기",children:(0,a.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),r(e)},className:"text-slate-600 hover:text-slate-900 transition-colors",title:"수정",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),confirm("".concat(e.name," 장비를 정말 삭제하시겠습니까?"))&&n(e.id)},className:"text-red-600 hover:text-red-800 transition-colors",title:"삭제",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)})})]})}),v>1&&(0,a.jsx)("div",{className:"px-6 py-3 border-t border-slate-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-slate-700",children:[b+1,"-",Math.min(N,g.length)," / ",g.length]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>j(m-1),disabled:1===m,className:"px-3 py-1 border border-slate-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50",children:"이전"}),Array.from({length:Math.min(5,v)},(e,s)=>{let t=s+Math.max(1,m-2);return t>v?null:(0,a.jsx)("button",{onClick:()=>j(t),className:"px-3 py-1 border rounded-md text-sm ".concat(m===t?"bg-[#0066CC] text-white border-[#0066CC]":"border-slate-300 hover:bg-slate-50"),children:t},t)}),(0,a.jsx)("button",{onClick:()=>j(m+1),disabled:m===v,className:"px-3 py-1 border border-slate-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50",children:"다음"})]})]})})]})}function g(e){let{isOpen:s,onClose:t,device:r}=e,[n,o]=(0,l.useState)("overview"),[c,d]=(0,l.useState)([]);if((0,l.useEffect)(()=>{r&&s&&d(function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=JSON.parse(localStorage.getItem(i)||"[]"),a=new Date(Date.now()-60*s*6e4).toISOString();return t.filter(s=>s.deviceId===e&&s.timestamp>a).sort((e,s)=>new Date(e.timestamp).getTime()-new Date(s.timestamp).getTime())}(r.id,1))},[r,s]),!s||!r)return null;let m=function(e){let s=[];return e.alarmSettings.enabled&&"offline"!==e.status&&(e.performance.cpu>e.alarmSettings.cpuThreshold&&s.push("CPU 사용률 임계치 초과 (".concat(e.performance.cpu,"%)")),e.performance.memory>e.alarmSettings.memoryThreshold&&s.push("메모리 사용률 임계치 초과 (".concat(e.performance.memory,"%)")),e.performance.disk>e.alarmSettings.diskThreshold&&s.push("디스크 사용률 임계치 초과 (".concat(e.performance.disk,"%)"))),s}(r),j=function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"%",r=x(e,t);return(0,a.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-slate-700",children:s}),(0,a.jsxs)("span",{className:"text-lg font-bold px-2 py-1 rounded ".concat(r),children:[e,l]})]}),(0,a.jsxs)("div",{className:"w-full bg-slate-200 rounded-full h-3 relative",children:[(0,a.jsx)("div",{className:"h-3 rounded-full transition-all duration-300 ".concat(e>=t?"bg-red-500":e>=.7*t?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(e,100),"%")}}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-white drop-shadow",children:e>=10?"".concat(e,"%"):""})})]}),e>=t&&(0,a.jsxs)("div",{className:"mt-1 text-xs text-red-600",children:["⚠️ 임계치 초과 (기준: ",t,"%)"]})]})},f=e=>e>=1e3?"".concat((e/1e3).toFixed(1)," Gbps"):"".concat(e.toFixed(1)," Mbps");return(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-[#003876] to-[#0066CC] rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-medium text-lg",children:"\uD83D\uDDA5️"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:r.name}),(0,a.jsxs)("p",{className:"text-sm text-slate-600",children:[r.location," • ",r.ipAddress]})]})]}),(0,a.jsx)("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsx)("div",{className:"px-6 border-b border-slate-200",children:(0,a.jsxs)("nav",{className:"flex space-x-8",children:[(0,a.jsx)("button",{onClick:()=>o("overview"),className:"py-3 px-1 border-b-2 font-medium text-sm transition-colors ".concat("overview"===n?"border-[#0066CC] text-[#0066CC]":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),children:"개요"}),(0,a.jsx)("button",{onClick:()=>o("performance"),className:"py-3 px-1 border-b-2 font-medium text-sm transition-colors ".concat("performance"===n?"border-[#0066CC] text-[#0066CC]":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),children:"성능 지표"}),(0,a.jsxs)("button",{onClick:()=>o("alarms"),className:"py-3 px-1 border-b-2 font-medium text-sm transition-colors relative ".concat("alarms"===n?"border-[#0066CC] text-[#0066CC]":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),children:["알람",m.length>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:m.length})]})]})}),(0,a.jsxs)("div",{className:"p-6",children:["overview"===n&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-900",children:"기본 정보"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"장비명:"}),(0,a.jsx)("span",{className:"font-medium",children:r.name})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"상태:"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(h(r.status)),children:"online"===r.status?"온라인":"오프라인"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"위치:"}),(0,a.jsx)("span",{className:"font-medium",children:r.location})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"IP 주소:"}),(0,a.jsx)("span",{className:"font-mono text-sm",children:r.ipAddress})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"망 종류:"}),(0,a.jsx)("span",{className:"font-medium",children:r.networkType})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-900",children:"상태 정보"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"마지막 접속:"}),(0,a.jsx)("span",{className:"font-medium",children:p(r.lastSeen)})]}),"online"===r.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"업타임:"}),(0,a.jsx)("span",{className:"font-medium",children:u(r.performance.uptime)})]}),r.performance.temperature&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"온도:"}),(0,a.jsxs)("span",{className:"font-medium",children:[r.performance.temperature,"\xb0C"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"생성일:"}),(0,a.jsx)("span",{className:"font-medium",children:new Date(r.createdAt).toLocaleDateString("ko-KR")})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"최종 업데이트:"}),(0,a.jsx)("span",{className:"font-medium",children:new Date(r.updatedAt).toLocaleDateString("ko-KR")})]})]})]})]}),"online"===r.status&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-900 mb-4",children:"네트워크 트래픽"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"인바운드"}),(0,a.jsx)("span",{className:"text-lg font-bold text-blue-900",children:f(r.performance.network.inbound)})]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-600 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16l-4-4m0 0l4-4m-4 4h18"})}),(0,a.jsx)("span",{className:"text-xs text-blue-600",children:"수신 트래픽"})]})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-green-700",children:"아웃바운드"}),(0,a.jsx)("span",{className:"text-lg font-bold text-green-900",children:f(r.performance.network.outbound)})]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-green-600 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),(0,a.jsx)("span",{className:"text-xs text-green-600",children:"송신 트래픽"})]})]})]})]})]}),"performance"===n&&(0,a.jsx)("div",{className:"space-y-6",children:"online"===r.status?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[j(r.performance.cpu,"CPU 사용률",r.alarmSettings.cpuThreshold),j(r.performance.memory,"메모리 사용률",r.alarmSettings.memoryThreshold),j(r.performance.disk,"디스크 사용률",r.alarmSettings.diskThreshold)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-900 mb-4",children:"알람 임계치"}),(0,a.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-slate-600",children:"CPU"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-slate-900",children:[r.alarmSettings.cpuThreshold,"%"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-slate-600",children:"메모리"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-slate-900",children:[r.alarmSettings.memoryThreshold,"%"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-slate-600",children:"디스크"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-slate-900",children:[r.alarmSettings.diskThreshold,"%"]})]})]}),(0,a.jsx)("div",{className:"mt-3 text-center",children:(0,a.jsxs)("span",{className:"text-sm ".concat(r.alarmSettings.enabled?"text-green-600":"text-red-600"),children:["알람 ",r.alarmSettings.enabled?"활성화":"비활성화"]})})]})]}),c.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-900 mb-4",children:"성능 기록 (최근 1시간)"}),(0,a.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"text-sm text-slate-600 mb-2",children:[c.length,"개의 기록 (5분 간격)"]}),(0,a.jsx)("div",{className:"space-y-2",children:c.slice(-6).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-slate-500",children:new Date(e.timestamp).toLocaleTimeString("ko-KR")}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("span",{children:["CPU: ",e.performance.cpu,"%"]}),(0,a.jsxs)("span",{children:["MEM: ",e.performance.memory,"%"]}),(0,a.jsxs)("span",{children:["DISK: ",e.performance.disk,"%"]})]})]},e.id))})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-slate-400 mb-2",children:(0,a.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsx)("p",{className:"text-slate-500",children:"장비가 오프라인 상태입니다."}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"성능 데이터를 사용할 수 없습니다."})]})}),"alarms"===n&&(0,a.jsxs)("div",{className:"space-y-6",children:[m.length>0?(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-semibold text-red-600 mb-4",children:["\uD83D\uDEA8 활성 알람 (",m.length,"개)"]}),(0,a.jsx)("div",{className:"space-y-3",children:m.map((e,s)=>(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.732 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-red-800",children:e}),(0,a.jsx)("p",{className:"text-xs text-red-600 mt-1",children:new Date().toLocaleString("ko-KR")})]})]})},s))})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-green-400 mb-2",children:(0,a.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("p",{className:"text-slate-500",children:"활성 알람이 없습니다."}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"모든 성능 지표가 정상 범위입니다."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-900 mb-4",children:"알람 설정"}),(0,a.jsx)("div",{className:"bg-slate-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium text-slate-700 mb-2",children:"임계치"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"CPU:"}),(0,a.jsxs)("span",{className:"font-medium",children:[r.alarmSettings.cpuThreshold,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"메모리:"}),(0,a.jsxs)("span",{className:"font-medium",children:[r.alarmSettings.memoryThreshold,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"디스크:"}),(0,a.jsxs)("span",{className:"font-medium",children:[r.alarmSettings.diskThreshold,"%"]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium text-slate-700 mb-2",children:"알람 상태"}),(0,a.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(r.alarmSettings.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:r.alarmSettings.enabled?"활성화됨":"비활성화됨"})]})]})})]})]})]})]})]})})}var v=t(3741);function b(e){let{isOpen:s,onClose:t,onSave:r,device:i,mode:o}=e,[c,m]=(0,l.useState)({name:"",location:"",ipAddress:"",networkType:"사용자망",country:"",status:"online",alarmSettings:{cpuThreshold:80,memoryThreshold:85,diskThreshold:90,enabled:!0}}),[x,h]=(0,l.useState)({}),[u,p]=(0,l.useState)(!1);(0,l.useEffect)(()=>{i&&"edit"===o?m({name:i.name,location:i.location,ipAddress:i.ipAddress,networkType:i.networkType,country:i.country,status:i.status,alarmSettings:i.alarmSettings}):m({name:"",location:"",ipAddress:"",networkType:"사용자망",country:"",status:"online",alarmSettings:{cpuThreshold:80,memoryThreshold:85,diskThreshold:90,enabled:!0}}),h({})},[i,o,s]);let f=e=>{let{name:s,value:t,type:a}=e.target;if(s.startsWith("alarmSettings.")){let e=s.split(".")[1];m(s=>({...s,alarmSettings:{...s.alarmSettings,[e]:"number"===a?parseInt(t):"true"===t}}))}else m(e=>({...e,[s]:t}));x[s]&&h(e=>({...e,[s]:""}))},g=async e=>{if(e.preventDefault(),(()=>{let e={};return c.name.trim()?c.name.includes("IP FLOW_")||(e.name='장비명은 "IP FLOW_국가명_(망종류)" 형식이어야 합니다.'):e.name="장비명을 입력해주세요.",c.country||(e.country="국가를 선택해주세요."),c.location.trim()||(e.location="위치를 입력해주세요."),c.ipAddress.trim()?/^(\d{1,3}\.){3}\d{1,3}$/.test(c.ipAddress)?c.ipAddress.split(".").some(e=>parseInt(e)>255)&&(e.ipAddress="IP 주소의 각 부분은 0-255 범위여야 합니다."):e.ipAddress="올바른 IP 주소 형식을 입력해주세요. (예: 192.168.1.1)":e.ipAddress="IP 주소를 입력해주세요.",(c.alarmSettings.cpuThreshold<1||c.alarmSettings.cpuThreshold>100)&&(e.cpuThreshold="CPU 임계치는 1-100 범위여야 합니다."),(c.alarmSettings.memoryThreshold<1||c.alarmSettings.memoryThreshold>100)&&(e.memoryThreshold="메모리 임계치는 1-100 범위여야 합니다."),(c.alarmSettings.diskThreshold<1||c.alarmSettings.diskThreshold>100)&&(e.diskThreshold="디스크 임계치는 1-100 범위여야 합니다."),h(e),0===Object.keys(e).length})()){p(!0);try{await new Promise(e=>setTimeout(e,500)),"add"===o?function(e){let s=d(),t={...e,id:"device_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastSeen:new Date().toISOString()};s.push(t),localStorage.setItem(n,JSON.stringify(s))}({name:c.name,status:c.status,location:c.location,ipAddress:c.ipAddress,networkType:c.networkType,country:c.country,performance:{cpu:0,memory:0,disk:0,network:{inbound:0,outbound:0},uptime:0},alarmSettings:c.alarmSettings}):i&&function(e,s){let t=d(),a=t.findIndex(s=>s.id===e);-1===a||(t[a]={...t[a],...s,updatedAt:new Date().toISOString()},localStorage.setItem(n,JSON.stringify(t)),t[a])}(i.id,{name:c.name,location:c.location,ipAddress:c.ipAddress,networkType:c.networkType,country:c.country,status:c.status,alarmSettings:c.alarmSettings}),r(),t()}catch(e){console.error("장비 저장 실패:",e),h({submit:"저장 중 오류가 발생했습니다."})}finally{p(!1)}}};return s?(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"add"===o?"새 장비 추가":"장비 정보 수정"}),(0,a.jsx)("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("form",{onSubmit:g,className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"기본 정보"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"국가 *"}),(0,a.jsxs)("select",{name:"country",value:c.country,onChange:f,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"국가 선택"}),j().map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),x.country&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:x.country})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"망 종류 *"}),(0,a.jsxs)("select",{name:"networkType",value:c.networkType,onChange:f,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent",children:[(0,a.jsx)("option",{value:"사용자망",children:"사용자망"}),(0,a.jsx)("option",{value:"업무망",children:"업무망"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"장비명 *"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",name:"name",value:c.name,onChange:f,placeholder:"IP FLOW_USA_(사용자망)",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent"}),(0,a.jsx)("button",{type:"button",onClick:()=>{if(c.country&&c.networkType){let e={미국:"USA",일본:"JAPAN",중국:"CHINA",독일:"GERMANY",영국:"UK",프랑스:"FRANCE",브라질:"BRAZIL",인도:"INDIA"}[c.country]||c.country.toUpperCase(),s="IP FLOW_".concat(e,"_(").concat(c.networkType,")");m(e=>({...e,name:s}))}},className:"px-3 py-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-colors",title:"자동 생성",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),x.name&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:x.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"위치 *"}),(0,a.jsx)("input",{type:"text",name:"location",value:c.location,onChange:f,placeholder:"예: 미국 뉴욕",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent"}),x.location&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:x.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"IP 주소 *"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",name:"ipAddress",value:c.ipAddress,onChange:f,placeholder:"192.168.1.100",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent"}),(0,a.jsx)("button",{type:"button",onClick:()=>{let e=["192.168","10.0","172.16"],s=e[Math.floor(Math.random()*e.length)],t=Math.floor(255*Math.random()),a=Math.floor(254*Math.random())+1,l="".concat(s,".").concat(t,".").concat(a);m(e=>({...e,ipAddress:l}))},className:"px-3 py-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-colors",title:"샘플 IP 생성",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),x.ipAddress&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:x.ipAddress})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"초기 상태"}),(0,a.jsxs)("select",{name:"status",value:c.status,onChange:f,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent",children:[(0,a.jsx)("option",{value:"online",children:"온라인"}),(0,a.jsx)("option",{value:"offline",children:"오프라인"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"알람 설정"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPU 임계치 (%)"}),(0,a.jsx)("input",{type:"number",name:"alarmSettings.cpuThreshold",value:c.alarmSettings.cpuThreshold,onChange:f,min:"1",max:"100",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent"}),x.cpuThreshold&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:x.cpuThreshold})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"메모리 임계치 (%)"}),(0,a.jsx)("input",{type:"number",name:"alarmSettings.memoryThreshold",value:c.alarmSettings.memoryThreshold,onChange:f,min:"1",max:"100",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent"}),x.memoryThreshold&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:x.memoryThreshold})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"디스크 임계치 (%)"}),(0,a.jsx)("input",{type:"number",name:"alarmSettings.diskThreshold",value:c.alarmSettings.diskThreshold,onChange:f,min:"1",max:"100",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent"}),x.diskThreshold&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:x.diskThreshold})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",name:"alarmSettings.enabled",checked:c.alarmSettings.enabled,onChange:e=>m(s=>({...s,alarmSettings:{...s.alarmSettings,enabled:e.target.checked}})),className:"h-4 w-4 text-[#0066CC] focus:ring-[#0066CC] border-slate-300 rounded"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"알람 활성화"})]})})]}),x.submit&&(0,a.jsx)("div",{className:"text-red-600 text-sm",children:x.submit})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-slate-200",children:[(0,a.jsx)(v.A,{type:"button",variant:"secondary",onClick:t,children:"취소"}),(0,a.jsx)(v.A,{type:"submit",variant:"primary",isLoading:u,children:"add"===o?"장비 추가":"수정 완료"})]})]})]})]})}):null}function N(){let[e,s]=(0,l.useState)([]),[t,x]=(0,l.useState)([]),[h,u]=(0,l.useState)({totalDevices:0,onlineDevices:0,offlineDevices:0,criticalDevices:0,averagePerformance:{cpu:0,memory:0,disk:0}}),[p,N]=(0,l.useState)(!0),[w,y]=(0,l.useState)(null),[k,C]=(0,l.useState)(!1),[S,M]=(0,l.useState)(!1),[T,L]=(0,l.useState)("add"),[A,D]=(0,l.useState)({searchTerm:"",status:"all",country:"",networkType:"all"}),[I,P]=(0,l.useState)(0),O=(0,l.useCallback)(()=>{try{if(!localStorage.getItem(n)){let e=function(){let e=[],s=0;return o.forEach(t=>{let a=Math.floor(3*Math.random())+2;for(let l=0;l<a;l++){let a=Math.random()>.5?"사용자망":"업무망",l=t.regions[Math.floor(Math.random()*t.regions.length)],r=Math.random()>.15,n={id:"device_".concat(s++),name:"IP FLOW_".concat(t.code,"_(").concat(a,")"),status:r?"online":"offline",location:"".concat(t.name," ").concat(l),ipAddress:function(){let e=["192.168","10.0","172.16","203.234","121.156","58.229","211.45"],s=e[Math.floor(Math.random()*e.length)],t=Math.floor(255*Math.random()),a=Math.floor(254*Math.random())+1;return"".concat(s,".").concat(t,".").concat(a)}(),networkType:a,country:t.name,lastSeen:new Date().toISOString(),createdAt:new Date(Date.now()-90*Math.random()*864e5).toISOString(),updatedAt:new Date().toISOString(),performance:r?c():{cpu:0,memory:0,disk:0,network:{inbound:0,outbound:0},uptime:0},alarmSettings:{cpuThreshold:80,memoryThreshold:85,diskThreshold:90,enabled:!0}};e.push(n)}}),e}();localStorage.setItem(n,JSON.stringify(e))}let e=d();s(e),u(m())}catch(e){console.error("데이터 로드 실패:",e)}finally{N(!1)}},[]),W=(0,l.useCallback)(()=>{x(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all";return d().filter(l=>{let r=!e||l.name.toLowerCase().includes(e.toLowerCase())||l.location.toLowerCase().includes(e.toLowerCase())||l.ipAddress.includes(e),n="all"===s||l.status===s,i=!t||l.country===t,o="all"===a||l.networkType===a;return r&&n&&i&&o})}(A.searchTerm,A.status,A.country,A.networkType))},[A]),B=(0,l.useCallback)(()=>{let e=d().map(e=>{if(.05>Math.random()){let s="online"===e.status?"offline":"online";return{...e,status:s,performance:"online"===s?c():{cpu:0,memory:0,disk:0,network:{inbound:0,outbound:0},uptime:0},lastSeen:new Date().toISOString(),updatedAt:new Date().toISOString()}}if("online"===e.status){let s=e.performance;return{...e,performance:{...s,cpu:Math.max(0,Math.min(100,s.cpu+(Math.random()-.5)*10)),memory:Math.max(0,Math.min(100,s.memory+(Math.random()-.5)*8)),disk:Math.max(0,Math.min(100,s.disk+(Math.random()-.5)*3)),network:{inbound:Math.max(0,s.network.inbound+(Math.random()-.5)*200),outbound:Math.max(0,s.network.outbound+(Math.random()-.5)*150)},uptime:s.uptime+5,temperature:s.temperature?Math.max(30,Math.min(80,s.temperature+(Math.random()-.5)*2)):void 0},lastSeen:new Date().toISOString(),updatedAt:new Date().toISOString()}}return e});localStorage.setItem(n,JSON.stringify(e)),function(){let e=d(),s=JSON.parse(localStorage.getItem(i)||"[]"),t=new Date().toISOString();e.forEach(e=>{s.push({id:"history_".concat(Date.now(),"_").concat(e.id),deviceId:e.id,timestamp:t,performance:e.performance,status:e.status})});let a=new Date(Date.now()-864e5).toISOString(),l=s.filter(e=>e.timestamp>a);localStorage.setItem(i,JSON.stringify(l))}(),s(d()),u(m()),P(e=>e+1)},[]);(0,l.useEffect)(()=>{O()},[O]),(0,l.useEffect)(()=>{W()},[e,A,W]),(0,l.useEffect)(()=>{let e=setInterval(B,5e3);return()=>clearInterval(e)},[B]),(0,l.useEffect)(()=>{if(w&&k){let s=e.find(e=>e.id===w.id);s&&y(s)}},[e,w,k]);let _=(e,s)=>{D(t=>({...t,[e]:s}))};return p?(0,a.jsx)(r.A,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-[#0066CC] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"장비 모니터링 데이터를 불러오는 중..."})]})})}):(0,a.jsx)(r.A,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-[#003876]",children:"장비 모니터링"}),(0,a.jsxs)("p",{className:"text-slate-600 mt-1",children:["원격 IP 차단 장비 실시간 모니터링 • 마지막 업데이트: ",new Date().toLocaleTimeString("ko-KR")]})]}),(0,a.jsxs)("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[(0,a.jsxs)(v.A,{variant:"secondary",onClick:()=>{N(!0),B(),setTimeout(()=>N(!1),500)},className:"w-full sm:w-auto",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"새로고침"]}),(0,a.jsxs)(v.A,{variant:"primary",onClick:()=>{y(null),L("add"),M(!0)},className:"w-full sm:w-auto",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"장비 추가"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-[#0066CC]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"전체 장비"}),(0,a.jsx)("p",{className:"text-xl font-bold text-slate-900",children:h.totalDevices})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"온라인"}),(0,a.jsx)("p",{className:"text-xl font-bold text-slate-900",children:h.onlineDevices})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"오프라인"}),(0,a.jsx)("p",{className:"text-xl font-bold text-slate-900",children:h.offlineDevices})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.732 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"임계치 초과"}),(0,a.jsx)("p",{className:"text-xl font-bold text-slate-900",children:h.criticalDevices})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"평균 CPU"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-slate-900",children:[h.averagePerformance.cpu,"%"]})]})]})})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"실시간 모니터링 활성"}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:"5초마다 자동 업데이트"})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:["업데이트 횟수: ",I]})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[(0,a.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"검색 및 필터"})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"통합 검색"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"장비명, 위치, IP주소 검색...",value:A.searchTerm,onChange:e=>_("searchTerm",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent"}),(0,a.jsx)("svg",{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"상태"}),(0,a.jsxs)("select",{value:A.status,onChange:e=>_("status",e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"전체 상태"}),(0,a.jsx)("option",{value:"online",children:"온라인"}),(0,a.jsx)("option",{value:"offline",children:"오프라인"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"지역"}),(0,a.jsxs)("select",{value:A.country,onChange:e=>_("country",e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"모든 지역"}),j().map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"망 종류"}),(0,a.jsxs)("select",{value:A.networkType,onChange:e=>_("networkType",e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#0066CC] focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"모든 망"}),(0,a.jsx)("option",{value:"사용자망",children:"사용자망"}),(0,a.jsx)("option",{value:"업무망",children:"업무망"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[(0,a.jsx)("button",{onClick:()=>{D({searchTerm:"",status:"all",country:"",networkType:"all"})},className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"필터 초기화"}),(0,a.jsxs)("div",{className:"text-sm text-slate-600 flex items-center",children:["필터링된 결과: ",t.length,"개 / 전체: ",e.length,"개"]})]})]})]}),(0,a.jsx)(f,{devices:t,onDeviceClick:e=>{y(e),C(!0)},onEditDevice:e=>{y(e),L("edit"),M(!0)},onDeleteDevice:e=>{(function(e){let s=d(),t=s.filter(s=>s.id!==e);return t.length!==s.length&&(localStorage.setItem(n,JSON.stringify(t)),!0)})(e)&&O()}}),(0,a.jsx)(g,{isOpen:k,onClose:()=>{C(!1),y(null)},device:w}),(0,a.jsx)(b,{isOpen:S,onClose:()=>{M(!1),y(null)},onSave:()=>{O()},device:w,mode:T})]})})}}},e=>{e.O(0,[874,477,441,964,358],()=>e(e.s=5295)),_N_E=e.O()}]);
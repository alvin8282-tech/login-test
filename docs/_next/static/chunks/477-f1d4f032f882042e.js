"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[477],{858:(e,t,n)=>{n.d(t,{A:()=>u});var s=n(5155),a=n(2115),r=n(6874),i=n.n(r),o=n(5695),l=n(1337),d=n(3333);let c=[{id:"dashboard",label:"대시보드",href:"/dashboard",icon:"\uD83D\uDCCA"},{id:"users",label:"사용자 관리",href:"/dashboard/users",icon:"\uD83D\uDC65"},{id:"monitoring",label:"장비 모니터링",href:"/dashboard/monitoring",icon:"\uD83D\uDDA5️"},{id:"security",label:"보안 설정",href:"/dashboard/security",icon:"\uD83D\uDD12"},{id:"logs",label:"접속 로그",href:"/dashboard/logs",icon:"\uD83D\uDCCB"},{id:"settings",label:"시스템 설정",href:"/dashboard/settings",icon:"⚙️"}];function u(e){var t;let{children:n}=e,r=(0,o.useRouter)(),u=(0,o.usePathname)(),[m,h]=(0,a.useState)(!0),[g,f]=(0,a.useState)(null),[x,v]=(0,a.useState)(""),[p,S]=(0,a.useState)(new Set);(0,a.useEffect)(()=>{(0,l.wU)();let e=sessionStorage.getItem("currentUser");e?f((0,l.ht)(e)):r.push("/login");let t=localStorage.getItem("hyundai-logo-image");t&&v(t)},[r]);let b=()=>{h(!m)};return((0,a.useEffect)(()=>{c.forEach(e=>{e.submenu&&e.submenu.some(e=>u===e.href||u.startsWith(e.href+"/"))&&S(t=>new Set([...t,e.id]))})},[u]),g)?(0,s.jsxs)("div",{className:"min-h-screen bg-slate-100",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b border-slate-200 fixed top-0 left-0 right-0 z-40",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16 px-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("button",{onClick:b,className:"p-2 rounded-md text-slate-600 hover:bg-slate-100 lg:hidden",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,s.jsxs)("div",{className:"flex items-center ml-4",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-[#003876] to-[#0066CC] rounded-lg flex items-center justify-center mr-3 p-1",children:x?(0,s.jsx)("img",{src:x,alt:"Hyundai AutoEver Logo",className:"w-full h-full object-contain",onError:()=>v("")}):(0,s.jsx)("span",{className:"text-white font-bold text-xs",children:"H"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-[#003876]",children:"원격IP차단장비"}),(0,s.jsx)("p",{className:"text-sm text-slate-600 -mt-1",children:"Manager"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"text-right hidden sm:block",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-slate-900",children:g.fullName}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:g.department})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-[#003876] to-[#0066CC] rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-medium text-sm",children:(null==(t=g.fullName)?void 0:t.charAt(0))||"U"})}),(0,s.jsx)("button",{onClick:()=>{g&&(0,d.G4)(g.email),sessionStorage.removeItem("currentUser"),r.push("/login")},className:"ml-3 px-3 py-1 text-sm text-slate-600 hover:text-[#003876] border border-slate-300 rounded-md hover:border-[#003876] transition-colors",children:"로그아웃"})]})]})]})}),(0,s.jsx)("aside",{className:"\n        fixed top-16 left-0 z-30 w-64 h-full bg-white shadow-lg border-r border-slate-200\n        transform transition-transform duration-300 ease-in-out\n        ".concat(m?"translate-x-0":"-translate-x-full","\n        lg:translate-x-0\n      "),children:(0,s.jsx)("nav",{className:"p-4",children:(0,s.jsx)("ul",{className:"space-y-2",children:c.map(e=>{var t;let n=u===e.href||"/dashboard"!==e.href&&u.startsWith(e.href),a=p.has(e.id),r=null==(t=e.submenu)?void 0:t.some(e=>u===e.href||u.startsWith(e.href+"/"));return(0,s.jsx)("li",{children:e.submenu?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:()=>{var t;return t=e.id,void S(e=>{let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n})},className:"\n                          w-full flex items-center justify-between px-4 py-3 rounded-lg text-sm font-medium transition-colors\n                          ".concat(r?"bg-gradient-to-r from-[#003876] to-[#0066CC] text-white shadow-md":"text-slate-700 hover:bg-slate-100 hover:text-[#003876]","\n                        "),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mr-3 text-lg",children:e.icon}),e.label]}),(0,s.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&(0,s.jsx)("ul",{className:"mt-2 ml-6 space-y-1",children:e.submenu.map(e=>{let t=u===e.href||u.startsWith(e.href+"/");return(0,s.jsx)("li",{children:(0,s.jsxs)(i(),{href:e.href,className:"\n                                    flex items-center px-3 py-2 rounded-md text-sm transition-colors\n                                    ".concat(t?"bg-[#0066CC] text-white shadow-sm":"text-slate-600 hover:bg-slate-100 hover:text-[#003876]","\n                                  "),children:[(0,s.jsx)("span",{className:"mr-2 text-sm",children:e.icon}),e.label]})},e.id)})})]}):(0,s.jsxs)(i(),{href:e.href,className:"\n                        flex items-center px-4 py-3 rounded-lg text-sm font-medium transition-colors\n                        ".concat(n?"bg-gradient-to-r from-[#003876] to-[#0066CC] text-white shadow-md":"text-slate-700 hover:bg-slate-100 hover:text-[#003876]","\n                      "),children:[(0,s.jsx)("span",{className:"mr-3 text-lg",children:e.icon}),e.label]})},e.id)})})})}),m&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:b}),(0,s.jsx)("main",{className:"\n        pt-16 transition-all duration-300 ease-in-out\n        ".concat(m?"lg:ml-64":"lg:ml-0","\n      "),children:(0,s.jsx)("div",{className:"p-6",children:n})})]}):(0,s.jsx)("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-[#0066CC] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-slate-600",children:"로딩 중..."})]})})}},1337:(e,t,n)=>{n.d(t,{CF:()=>o,KJ:()=>x,TK:()=>c,Yd:()=>v,bx:()=>m,cb:()=>f,hG:()=>u,ht:()=>l,nu:()=>d,wU:()=>i,wx:()=>h});let s="hyundai_users",a="hyundai_dashboard",r=[{id:"1",email:"admin@hyundai-autoever.com",password:"admin123",fullName:"관리자",department:"IT부",role:"admin",status:"active",lastLogin:"2024-08-16T10:30:00Z",createdAt:"2024-01-01T09:00:00Z",otpSecret:"JBSWY3DPEHPK3PXP"},{id:"2",email:"user1@hyundai-autoever.com",password:"user123",fullName:"김철수",department:"보안팀",role:"user",status:"active",lastLogin:"2024-08-16T09:15:00Z",createdAt:"2024-02-15T14:20:00Z",otpSecret:"JBSWY3DPEHPK3PXQ"},{id:"3",email:"user2@hyundai-autoever.com",password:"user123",fullName:"이영희",department:"운영팀",role:"user",status:"active",lastLogin:"2024-08-15T16:45:00Z",createdAt:"2024-03-10T11:30:00Z",otpSecret:"JBSWY3DPEHPK3PXR"},{id:"4",email:"guest@hyundai-autoever.com",password:"guest123",fullName:"박민수",department:"외부업체",role:"guest",status:"pending",lastLogin:"2024-08-14T13:20:00Z",createdAt:"2024-08-14T13:00:00Z"},{id:"5",email:"inactive@hyundai-autoever.com",password:"inactive123",fullName:"정지훈",department:"개발팀",role:"user",status:"inactive",lastLogin:"2024-07-20T10:00:00Z",createdAt:"2024-04-01T09:00:00Z",otpSecret:"JBSWY3DPEHPK3PXS"}];function i(){if(localStorage.getItem(s)||localStorage.setItem(s,JSON.stringify(r)),!localStorage.getItem(a)){let e={totalUsers:r.length,activeUsers:r.filter(e=>"active"===e.status).length,pendingUsers:r.filter(e=>"pending"===e.status).length,totalSessions:142};localStorage.setItem(a,JSON.stringify(e))}}function o(){let e=localStorage.getItem(s);return e?JSON.parse(e):[]}function l(e){return o().find(t=>t.email===e)||null}function d(e){let t=o(),n={...e,id:Date.now().toString(),createdAt:new Date().toISOString()};return t.push(n),localStorage.setItem(s,JSON.stringify(t)),g(),n}function c(e,t){let n=o(),a=n.findIndex(t=>t.id===e);return -1===a?null:(n[a]={...n[a],...t},localStorage.setItem(s,JSON.stringify(n)),g(),n[a])}function u(e){let t=o(),n=t.filter(t=>t.id!==e);return n.length!==t.length&&(localStorage.setItem(s,JSON.stringify(n)),g(),!0)}function m(e){let t=o(),n=t.findIndex(t=>t.email===e);-1!==n&&(t[n].lastLogin=new Date().toISOString(),localStorage.setItem(s,JSON.stringify(t)))}function h(){let e=localStorage.getItem(a);return e?JSON.parse(e):{totalUsers:0,activeUsers:0,pendingUsers:0,totalSessions:0}}function g(){let e=o(),t={totalUsers:e.length,activeUsers:e.filter(e=>"active"===e.status).length,pendingUsers:e.filter(e=>"pending"===e.status).length,totalSessions:h().totalSessions};localStorage.setItem(a,JSON.stringify(t))}function f(e){return({admin:"관리자",user:"일반사용자",guest:"게스트"})[e]}function x(e){return({active:"활성",inactive:"비활성",pending:"대기"})[e]}function v(e){return({active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800"})[e]}},3333:(e,t,n)=>{n.d(t,{Bf:()=>m,EF:()=>d,G4:()=>l,IM:()=>c,JA:()=>o,Rd:()=>i,qk:()=>u,w0:()=>r});let s="hyundai_access_logs",a="hyundai_active_sessions";function r(){if(!localStorage.getItem(s)){let e=function(){let e=new Date,t=[],n=[{id:"1",name:"관리자",email:"admin@hyundai-autoever.com"},{id:"2",name:"김철수",email:"user1@hyundai-autoever.com"},{id:"3",name:"이영희",email:"user2@hyundai-autoever.com"},{id:"4",name:"박민수",email:"guest@hyundai-autoever.com"},{id:"5",name:"정지훈",email:"inactive@hyundai-autoever.com"}],s=["Chrome","Firefox","Safari","Edge"],a=["192.168.1.100","10.0.0.50","172.16.0.25","203.234.112.45"];for(let r=0;r<150;r++){let i=n[Math.floor(Math.random()*n.length)],o=new Date(e.getTime()-30*Math.random()*864e5),l=Math.random()>.1,d=l?Math.floor(7200*Math.random())+300:void 0,c=l&&Math.random()>.2?new Date(o.getTime()+1e3*d):void 0;t.push({id:"log_".concat(Date.now(),"_").concat(r),userId:i.id,userName:i.name,email:i.email,loginTime:o.toISOString(),logoutTime:null==c?void 0:c.toISOString(),ipAddress:a[Math.floor(Math.random()*a.length)],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",browserInfo:s[Math.floor(Math.random()*s.length)],status:l?c?"logged_out":"active":"failed",sessionDuration:c?d:void 0,loginMethod:l&&Math.random()>.5?"otp":"password",failureReason:l?void 0:["잘못된 비밀번호","존재하지 않는 계정","OTP 오류"][Math.floor(3*Math.random())]})}return t.sort((e,t)=>new Date(t.loginTime).getTime()-new Date(e.loginTime).getTime())}();localStorage.setItem(s,JSON.stringify(e))}}function i(){let e=localStorage.getItem(s);return e?JSON.parse(e):[]}function o(e,t,n){let r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=arguments.length>4?arguments[4]:void 0,l={id:"log_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),userId:e,userName:t,email:n,loginTime:new Date().toISOString(),ipAddress:function(){let e=["192.168.1.100","10.0.0.50","172.16.0.25","203.234.112.45","121.156.78.90"];return e[Math.floor(Math.random()*e.length)]}(),userAgent:navigator.userAgent,browserInfo:function(){let e=navigator.userAgent;return e.includes("Chrome")?"Chrome":e.includes("Firefox")?"Firefox":e.includes("Safari")&&!e.includes("Chrome")?"Safari":e.includes("Edge")?"Edge":e.includes("Opera")?"Opera":"Unknown"}(),status:r?"active":"failed",loginMethod:r?"otp":"password",failureReason:o},c=i();return c.unshift(l),localStorage.setItem(s,JSON.stringify(c)),r&&function(e){let t=d().filter(t=>t.userId!==e.userId);t.push(e),localStorage.setItem(a,JSON.stringify(t))}(l),l}function l(e){let t=i(),n=t.findIndex(t=>t.userId===e&&"active"===t.status);if(-1!==n){let r=new Date(t[n].loginTime),i=new Date,o=Math.floor((i.getTime()-r.getTime())/1e3);t[n]={...t[n],logoutTime:i.toISOString(),status:"logged_out",sessionDuration:o},localStorage.setItem(s,JSON.stringify(t)),function(e){let t=d().filter(t=>t.userId!==e);localStorage.setItem(a,JSON.stringify(t))}(e)}}function d(){let e=localStorage.getItem(a);return e?JSON.parse(e):[]}function c(e,t){let n=i(),s=new Date(e),a=new Date(t);return a.setHours(23,59,59,999),n.filter(e=>{let t=new Date(e.loginTime);return t>=s&&t<=a})}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(),t=e.length,n=e.filter(e=>"active"===e.status).length,s=e.filter(e=>"failed"===e.status).length,a=e.filter(e=>void 0!==e.sessionDuration);return{totalSessions:t,activeSessions:n,failedAttempts:s,avgSessionDuration:Math.round(a.length>0?a.reduce((e,t)=>e+(t.sessionDuration||0),0)/a.length:0),uniqueUsers:new Set(e.map(e=>e.userId)).size}}function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"access_logs",n=new Blob(["\uFEFF"+function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(),t=e=>new Date(e).toLocaleString("ko-KR");return["사용자명,이메일,접속일시,로그아웃일시,접속 IP,브라우저,상태,세션 시간(분),로그인 방법,실패 사유",...e.map(e=>{var n;return[e.userName,e.email,t(e.loginTime),e.logoutTime?t(e.logoutTime):"",e.ipAddress,e.browserInfo,"success"===e.status||"active"===e.status||"logged_out"===e.status?"성공":"실패",!(n=e.sessionDuration)?"":Math.round(n/60).toString(),"otp"===e.loginMethod?"OTP":"비밀번호",e.failureReason||""].map(e=>'"'.concat(e,'"')).join(",")})].join("\n")}(e)],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(void 0!==s.download){let e=URL.createObjectURL(n);s.setAttribute("href",e),s.setAttribute("download","".concat(t,"_").concat(new Date().toISOString().split("T")[0],".csv")),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}},5695:(e,t,n)=>{var s=n(8999);n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}})}}]);